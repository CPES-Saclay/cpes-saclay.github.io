---
import { Icon } from "astro-icon/components";

interface Props {
  title: string;
  icon?: string;
  class?: string;
}

const { title, icon, class: className } = Astro.props;
---

<div class={`lg:hidden ${className || ''}`}>
  <details class="group w-full">
    <summary class="flex flex-row items-center text-[18px] gap-2 hover:font-medium transition-all hover:cursor-pointer">
      {icon && <Icon name={icon} />}
      {title}
      <Icon
        name="ri:arrow-down-s-line"
        class="text-xl transition-transform duration-200 ease-in-out group-open:rotate-180 ml-auto"
      />
    </summary>
    <div class="flex flex-col gap-2 mt-4 pl-4 border-l border-secondary/10">
      <slot />
    </div>
  </details>
</div>

<div class={`hidden lg:block relative ${className || ''}`} data-dropdown>
  <div class="flex flex-row items-center text-[18px] gap-2 hover:font-medium transition-all hover:cursor-pointer" data-dropdown-trigger>
    {icon && <Icon name={icon} />}
    {title}
    <Icon
      name="ri:arrow-down-s-line"
      class="text-xl transition-transform duration-200 ease-in-out"
      data-dropdown-arrow
    />
  </div>

  <div
    class="absolute flex flex-col gap-2 left-0 mt-4 w-max bg-primary p-4 border border-secondary/10 rounded-box shadow-xl opacity-0 translate-y-[-6px] pointer-events-none transition-all duration-200 ease-in-out"
    data-dropdown-panel
  >
    <slot />
  </div>
</div>
